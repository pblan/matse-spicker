\documentclass[german]{spicker}
\usepackage{textcomp}
\usepackage{forest}

%\addbibresource{para.bib}

\title{Parallele Rechnerarchitekturen}
\subtitle{Sommersemester 2023}
\university{Fachhochschule Aachen}
\programme{Angewandte Mathematik und Informatik, M. Sc.}
\lecturer{Dr. Marcus Richter, Jochen Kreutz}

\author{Patrick Gustav Blaneck, Sven Bergmann}

\makeindex[intoc]
\makeindex[intoc, name=Beispiele,title=Beispiele]
\makeindex[intoc, name=Aufgaben,title=Aufgaben]


% Setup for SI units
\sisetup{
  per-mode=fraction,
  fraction-function=\tfrac
}
\DeclareSIUnit{\flops}{FLOPS}
\DeclareSIUnit{\cores}{cores}
\DeclareSIUnit{\cycle}{cycle}
\DeclareSIUnit{\cycles}{cycles}

% Forschungszentrum Jülich color
\definecolor{fzj}{rgb}{0, 0.24, 0.42}


\newenvironment{jsc}[2][\empty]{%
\ifx\empty#1
\index[Beispiele]{#2}%
\else
\index[Beispiele]{#1!#2}%
\fi
\label{jsc:#2}%
\begin{tcolorbox}[%
        colbacktitle=fzj!75!black,
        colback=fzj!5!white,%
        colframe=fzj!75!black,%
        base={#2},%
        label={%
                \ifx\empty#1
                {jsc:#2}%
                \else
                {jsc:#1:#2}
                \fi
            },
        % before title={%
        %         {\usekomafont{spickerboxtype}{Definition:}\hspace*{5mm}}
        %     },
        title={%
                \vphantom{Hy}%
                \usekomafont{spickerboxtitle}{{#2}}%
                \ifx\empty#1
                {}
                \else
                {
                    \hspace{2.5mm}\usekomafont{spickerboxsubtitle}{#1}
                }
                \fi
            },
        after title={%
                {\hfill\usekomafont{spickerboxtype}{Jülich Supercomputing Centre}}
            },
        % after title={
        %         {\usekomafont{spickerboxsubtitle}{
        %                     \ifx\empty#1
        %                     {\hfill}
        %                     \else
        %                     {\hfill #1}
        %                     \fi
        %                 }}
        %     },
    ]%
    }%
    {%

\end{tcolorbox}}


\newcommand{\aufgabe}[4][\empty]{
\ifx\empty#1
\index[Aufgaben]{#2}
\else
\index[Aufgaben]{#1!#2}
\fi
\label{Aufgabe:#2}
\begin{tcolorbox}[
        colbacktitle=red!75!black,
        colback=red!5!white,
        colframe=red!75!black,
        base={#2},
        label={
                \ifx\empty#1
                {Aufgabe:#2}%
                \else
                {Aufgabe:#1:#2}
                \fi
            },
        title={
                \vphantom{Hy}
                \usekomafont{spickerboxtitle}{{#2}}
                \ifx\empty#1
                {}
                \else
                {
                    \hspace{2.5mm}\usekomafont{spickerboxsubtitle}{#1}
                }
                \fi
            },
        after title={
                {\hfill\usekomafont{spickerboxtype}{Aufgabe}}
            },
    ]
    % \tcbsubtitle{Frage}
    % #3
    % \tcbsubtitle{Antwort}
    % #4
    \begin{tcolorbox}[enhanced, 
        title = Frage,
        attach boxed title to top right = {yshift=-2mm},
        boxed title style={
            colframe=red!75!black,
            colback=red!75!black
        },
        colback=red!5!white,
        colframe=red!75!black,
        % frame style={draw=none,fill=none},
        % watermark text = Frage,
        ]
        #3
    \end{tcolorbox}
    \tcblower
    \begin{tcolorbox}[enhanced, 
        title = Antwort,
        attach boxed title to top right = {yshift=-2mm},
        boxed title style={
            colframe=red!75!black,
            colback=red!75!black
        },
        colback=red!5!white,
        colframe=red!75!black,
        % frame style={draw=none,fill=none},
        % watermark text = Antwort,
        ]
        #4
    \end{tcolorbox}
\end{tcolorbox}
}

\begin{document}
\maketitle
\tableofcontents
\disclaimer

\include{includes/01_rechnerarchitektur}
\include{includes/02_komplexitaet}
\include{includes/03_parallelverarbeitung}
\include{includes/04_einzelprozessorsysteme}
\include{includes/05_pipelining}
\include{includes/06_mehrprozessorsysteme}
\include{includes/07_vektorrechner}
\include{includes/08_quantencomputer}

\printindex
\printindex[Beispiele]

%\printbibliography
\end{document}
